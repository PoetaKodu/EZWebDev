<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Home | EZWebDev</title>

	<link rel="stylesheet" href="styles/style.css">

	<script src="js/UtilityFunctions.js"></script>
	<script src="js/UiWindow.js"></script>
	<script src="js/ModalWindow.js"></script>
	<script src="js/PropertyFunctions.js"></script>
	<script src="js/PropertyEditor.js"></script>
	<script src="js/DocumentNode.js"></script>
	<script src="js/DocumentTree.js"></script>

	<script src="js/GlobalConfig.js"></script>
	<script src="scheme/DocumentElements.js"></script>
	<script src="scheme/Presets.js"></script>
	<script src="scheme/TagSchemes.js"></script>
	
	<script src="js/TreeView.js"></script>
	<script src="js/PropertiesWindow.js"></script>

	<script src="js/windows/InsertElementModal.js"></script>
	<script src="js/windows/InsertPropertyModal.js"></script>
	<script src="js/windows/EditContentModal.js"></script>

	<script src="js/ez.js"></script>
</head>
<body>
	<div class="ez-root">
		<div class="ez-window">
			<header><h1>Drzewo projektu</h1></header>
			<div id="ezTreeCtx"></div>
		</div>
	
		<div id="ezOutputCtx" class="ez-panel"></div>
	
		<div class="ez-window">
			<header><h1>Właściwości</h1></header>
			<button id="insertStyleBtn">Dodaj styl</button>
			<button id="insertAttributeBtn">Dodaj atrybut</button>
			<div id="ezPropertiesCtx"></div>
		</div>
	
		<div id="ezInsertElementModalCtx" class="ez-modal-window">
			<header>
				<h1>Dodaj element</h1>
				<div class="ez-modal-buttons">
					<button class="ez-modal-close-btn">X</button>
				</div>
			</header>
			<main>
				<p>Wyszukaj:</p>
				<input class="ez-search-box">

				<div class="ez-element-card ez-template">
					<h1>&lt;span&gt;</h1>
					<p>Wydzielony kontener dla tekstu</p>
				</div>
				<div class="ez-element-cards-ctr">
					
				</div>
			</main>
		</div>
		<div id="ezInsertStyleModalCtx" class="ez-modal-window">
			<header>
				<h1>Dodaj styl</h1>
				<div class="ez-modal-buttons">
					<button class="ez-modal-close-btn">X</button>
				</div>
			</header>
			<main>
				<p>Wyszukaj:</p>
				<input class="ez-search-box">

				<div class="ez-element-card ez-template">
					<h1>font-size</h1>
					<p></p>
				</div>
				<div class="ez-element-cards-ctr">
					
				</div>
			</main>
		</div>
		<div id="ezInsertAttributeModalCtx" class="ez-modal-window">
			<header>
				<h1>Dodaj atrybut</h1>
				<div class="ez-modal-buttons">
					<button class="ez-modal-close-btn">X</button>
				</div>
			</header>
			<main>
				<p>Wyszukaj:</p>
				<input class="ez-search-box">

				<div class="ez-element-card ez-template">
					<h1>href</h1>
					<p></p>
				</div>
				<div class="ez-element-cards-ctr">
					
				</div>
			</main>
		</div>
		<div id="ezEditContentModalCtx" class="ez-modal-window">
			<header>
				<h1>Edytuj zawartość</h1>
				<div class="ez-modal-buttons">
					<button class="ez-modal-close-btn">X</button>
				</div>
			</header>
			<main>
				<textarea class="ez-edit-content"></textarea>
				<button class="ez-cancel-btn">Anuluj</button>
				<button class="ez-accept-btn">Zatwierdź</button>
			</main>
		</div>
	</div>
	
		

	<script>
		let ezTreeCtx 			= document.getElementById("ezTreeCtx");
		let ezPropertiesCtx		= document.getElementById("ezPropertiesCtx");
		let ezOutputCtx 		= document.getElementById("ezOutputCtx");
		
		// Modals windows:
		let ezInsertElementModalCtx 	= document.getElementById("ezInsertElementModalCtx");
		let ezInsertStyleModalCtx 		= document.getElementById("ezInsertStyleModalCtx");
		let ezInsertAttributeModalCtx 	= document.getElementById("ezInsertAttributeModalCtx");
		let ezEditContentModalCtx 		= document.getElementById("ezEditContentModalCtx");
		

		let ez = new EzApp();

		// Setup contexts:
		ez.outputCtx 				= ezOutputCtx;
		ez.treeViewCtx 				= ezTreeCtx;
		ez.propertiesWindowCtx 		= ezPropertiesCtx;

		// Setup modal windows:
		ez.insertElementModalCtx 	= ezInsertElementModalCtx;
		ez.insertStyleModalCtx 		= ezInsertStyleModalCtx;
		ez.insertAttributeModalCtx 	= ezInsertAttributeModalCtx;
		ez.editContentModalCtx 		= ezEditContentModalCtx;

		ez.run();

		// Insert some elements:
		let div 	= ez.documentTree.insert("div");
		let div2 	= ez.documentTree.insert("div", div);
		let p 		= ez.documentTree.insert("p", div2);
		p.settings = {
			styles: [
				{ name: "border-style", value: "dotted" }
			]
		};
		
		let text	= ez.documentTree.insertText(p, "Jakiś tekst hehehe<br>");
		let ul		= ez.documentTree.insert("ul", p);
		for(let i = 0; i < 3; ++i)
		{
			let li = ez.documentTree.insert("li", ul);
			ez.documentTree.insertText(li, "Element listy ddddddddddddddd #" + i);
		}
		

		ez.documentTree.insertText(p, "<br>Tekst po liście.");

		ez.documentTree.rebuild();
	</script>
</body>
</html>